SOV_depression_category = {
	SOV_manage_grain_exports = {
		icon = generic_political_discourse
		
		available = {
			has_idea = SOV_first_five_year_plan
			date > 1930.1.1
		}
		
		visible = {
			tag = SOV
			has_idea = SOV_first_five_year_plan
			date > 1930.1.1
		}
		
		cost = 50
		days_remove = 70
		days_re_enable = 180
		
		remove_effect = {
			random_list = {
				70 = {
					add_political_power = 25
					add_stability = -0.03
					custom_effect_tooltip = SOV_grain_export_rewards_tooltip
					hidden_effect = {
						add_offsite_building = { type = industrial_complex level = 2 }
						add_resource = {
							type = steel
							amount = 12
							state = 219 # Moscow region
						}
					}
				}
				30 = {
					add_political_power = -25
					add_stability = -0.08
					custom_effect_tooltip = SOV_grain_export_failure_tooltip
					hidden_effect = {
						random_owned_controlled_state = {
							limit = { 
								is_core_of = SOV
								is_coastal = no
							}
							damage_building = {
								type = infrastructure
								damage = 1
							}
						}
					}
				}
			}
		}
		
		complete_effect = {
			add_stability = -0.05
			add_war_support = 0.03
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_stability < 0.4
			}
		}
	}
	
	SOV_expand_heavy_industry = {
		icon = generic_industry
		
		available = {
			has_political_power > 100
		}
		
		visible = {
			tag = SOV
			OR = {
				has_idea = SOV_first_five_year_plan
				has_idea = SOV_second_five_year_plan
			}
		}
		
		cost = 100
		days_remove = 60
		
		modifier = {
			political_power_gain = -0.5
			industrial_capacity_factory = 0.1
			production_speed_buildings_factor = 0.1
			consumer_goods_factor = 0.05
		}
		
		remove_effect = {
			random_owned_controlled_state = {
				limit = { 
					is_core_of = SOV 
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	SOV_accelerate_tractor_production = {
		icon = generic_construction
		
		available = {
			has_political_power > 75
			has_completed_focus = SOV_agricultural_machinery
		}
		
		visible = {
			tag = SOV
			has_completed_focus = SOV_agricultural_machinery
		}
		
		cost = 75
		days_remove = 70
		days_re_enable = 120
		
		modifier = {
			political_power_gain = -0.3
			production_speed_industrial_complex_factor = 0.15
			consumer_goods_factor = 0.03
		}
		
		remove_effect = {
			add_stability = 0.02
			if = {
				limit = { has_idea = SOV_collectivization }
				swap_ideas = {
					remove_idea = SOV_collectivization
					add_idea = SOV_expanded_collective_farms
				}
			}
		}
		
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				has_idea = SOV_collectivization
			}
		}
	}
	
	SOV_expand_worker_housing = {
		icon = generic_construction
		
		available = {
			has_political_power > 60
		}
		
		visible = {
			tag = SOV
			OR = {
				has_idea = SOV_first_five_year_plan
				has_idea = SOV_second_five_year_plan
			}
		}
		
		cost = 60
		days_remove = 60
		days_re_enable = 120
		
		modifier = {
			political_power_gain = -0.25
			consumer_goods_factor = 0.05
		}
		
		remove_effect = {
			add_stability = 0.05
			random_owned_controlled_state = {
				limit = { 
					is_core_of = SOV
					free_building_slots = {
						building = infrastructure
						size > 0
						include_locked = yes
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		
		ai_will_do = {
			factor = 3
			modifier = {
				factor = 2
				has_stability < 0.5
			}
			modifier = {
				factor = 0
				has_stability < 0.3
			}
		}
	}
	
	SOV_scientific_research_investment = {
		icon = generic_research
		
		available = {
			has_political_power > 80
		}
		
		visible = {
			tag = SOV
			OR = {
				has_idea = SOV_first_five_year_plan
				has_idea = SOV_second_five_year_plan
			}
		}
		
		cost = 80
		days_remove = 90
		days_re_enable = 180
		
		modifier = {
			political_power_gain = -0.2
			research_speed_factor = 0.05
		}
		
		remove_effect = {
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.5
				uses = 1
				category = industry
			}
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	SOV_increase_arms_production = {
		icon = generic_army_artillery2
		
		available = {
			has_political_power > 75
			has_war_support > 0.3
		}
		
		visible = {
			tag = SOV
			OR = {
				has_completed_focus = SOV_military_industrialization
				has_completed_focus = SOV_expand_arms_industry
			}
		}
		
		cost = 75
		days_remove = 70
		days_re_enable = 120
		
		modifier = {
			political_power_gain = -0.3
			production_speed_arms_factory_factor = 0.15
			industrial_capacity_factory = 0.05
			consumer_goods_factor = 0.05
		}
		
		remove_effect = {
			add_war_support = 0.05
			random_owned_controlled_state = {
				limit = { 
					is_core_of = SOV 
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				has_war_support > 0.5
			}
		}
	}
	
	SOV_far_east_military_development = {
		icon = generic_fortify_city
		
		available = {
			has_political_power > 50
			has_completed_focus = SOV_far_east_focus
		}
		
		visible = {
			tag = SOV
			has_completed_focus = SOV_far_east_focus
		}
		
		cost = 50
		days_remove = 60
		days_re_enable = 180
		
		modifier = {
			political_power_gain = -0.2
			production_speed_bunker_factor = 0.2
			production_speed_coastal_bunker_factor = 0.2
		}
		
		remove_effect = {
			408 = { # Vladivostok
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					level = 1
					instant_build = yes
				}
			}
			add_war_support = 0.03
		}
		
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				has_war = yes
			}
		}
	}
	
	SOV_develop_tank_production = {
		icon = generic_tank
		
		available = {
			has_political_power > 75
			has_completed_focus = SOV_tank_research
		}
		
		visible = {
			tag = SOV
			has_completed_focus = SOV_tank_research
		}
		
		cost = 75
		days_remove = 90
		days_re_enable = 180
		
		modifier = {
			political_power_gain = -0.3
			production_speed_arms_factory_factor = 0.1
			consumer_goods_factor = 0.03
		}
		
		remove_effect = {
			add_equipment_to_stockpile = {
				type = light_tank_equipment_1
				amount = 50
				producer = SOV
			}
			add_tech_bonus = {
				name = armor_bonus
				bonus = 0.5
				uses = 1
				category = armor
			}
		}
		
		ai_will_do = {
			factor = 8
		}
	}
	
	SOV_political_education_campaign = {
		icon = generic_political_discourse
		
		available = {
			has_political_power > 50
		}
		
		visible = {
			tag = SOV
			NOT = { has_idea = SOV_cult_of_personality }
		}
		
		cost = 50
		days_remove = 60
		days_re_enable = 120
		
		modifier = {
			political_power_gain = -0.2
			communism_drift = 0.03
		}
		
		remove_effect = {
			add_stability = 0.05
			add_war_support = 0.03
		}
		
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				has_stability < 0.5
			}
		}
	}
}

SOV_foreign_policy_category = {
	SOV_fund_foreign_communist_parties = {
		icon = generic_diplomatic_relations
		
		available = {
			has_political_power > 75
		}
		
		visible = {
			tag = SOV
		}
		
		cost = 75
		days_remove = 60
		days_re_enable = 120
		
		modifier = {
			political_power_gain = -0.3
		}
		
		remove_effect = {
			random_country = {
				limit = {
					NOT = { tag = SOV }
					NOT = { has_government = communism }
					NOT = { is_in_faction_with = SOV }
				}
				add_timed_idea = {
					idea = communist_pressure
					days = 180
				}
			}
			random_country = {
				limit = {
					NOT = { tag = SOV }
					NOT = { has_government = communism }
					NOT = { is_in_faction_with = SOV }
				}
				add_opinion_modifier = {
					target = SOV
					modifier = small_decrease
				}
			}
		}
		
		ai_will_do = {
			factor = 5
		}
	}
	
	SOV_support_chinese_communists = {
		icon = generic_communism
		
		available = {
			has_political_power > 50
			country_exists = PRC
			NOT = { has_war_with = PRC }
		}
		
		visible = {
			tag = SOV
			country_exists = PRC
		}
		
		cost = 50
		days_remove = 70
		days_re_enable = 180
		
		modifier = {
			political_power_gain = -0.25
		}
		
		remove_effect = {
			PRC = {
				add_opinion_modifier = {
					target = SOV
					modifier = large_increase
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_0
					amount = 1000
					producer = SOV
				}
				add_equipment_to_stockpile = {
					type = artillery_equipment_1
					amount = 50
					producer = SOV
				}
			}
			CHI = {
				add_opinion_modifier = {
					target = SOV
					modifier = small_decrease
				}
			}
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	
	SOV_develop_trade_with_west = {
		icon = generic_foreign_trade
		
		available = {
			has_political_power > 50
		}
		
		visible = {
			tag = SOV
		}
		
		cost = 50
		days_remove = 70
		days_re_enable = 180
		
		modifier = {
			political_power_gain = -0.2
			trade_opinion_factor = 0.3
		}
		
		remove_effect = {
			random_list = {
				70 = {
					add_offsite_building = { type = industrial_complex level = 1 }
					add_tech_bonus = {
						name = industrial_bonus
						bonus = 0.5
						uses = 1
						category = industry
					}
				}
				30 = {
					add_stability = 0.03
					add_political_power = 25
				}
			}
		}
		
		ai_will_do = {
			factor = 7
		}
	}
	
	SOV_establish_international_prestige = {
		icon = generic_research
		
		available = {
			has_political_power > 100
		}
		
		visible = {
			tag = SOV
		}
		
		cost = 100
		days_remove = 90
		days_re_enable = 365
		
		modifier = {
			political_power_gain = -0.5
		}
		
		remove_effect = {
			add_stability = 0.05
			add_war_support = 0.05
			USA = {
				add_opinion_modifier = {
					target = SOV
					modifier = medium_increase
				}
			}
			ENG = {
				add_opinion_modifier = {
					target = SOV
					modifier = medium_increase
				}
			}
			FRA = {
				add_opinion_modifier = {
					target = SOV
					modifier = medium_increase
				}
			}
		}
		
		ai_will_do = {
			factor = 3
		}
	}
}